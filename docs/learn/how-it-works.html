<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>GitVersion - How it works</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>

        <meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
<meta name="google-site-verification" content="46g_yrsDyk5YTGoXb2ii9BjmTJ2QAEsacqn6wqiAiII">
<meta property="og:image" content="https://github.com/GitTools/graphics/raw/master/GitVersion/banner-1280x640.png">
<meta property="og:site_name" content="GitVersion">
<meta property="og:type" content="object">
<meta property="og:title" content="GitVersion">
<meta property="og:url" content="https://gitversion.net/">
<meta property="og:description" content="From git log to SemVer in no time">
<link rel="icon" href="/assets/img/icon.png" type="image/png">
<link rel="icon" href="/assets/img/icon.svg" type="image/svg">
<link rel="apple-touch-icon" href="/assets/img/icon.png" type="image/png">
<link rel="apple-touch-icon" href="/assets/img/icon.svg" type="image/svg">

    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">
                            <span>GitVersion</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/gittools/GitVersion/tree/main/docs/input/docs/learn/how-it-works.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"></div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/ci">Continuous Integration</a></li>
                <li class="treeview">
                    <a href="/docs/usage/cli">Command Line</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/cli/installation">Installation</a></li>
                <li><a href="/docs/usage/cli/arguments">Arguments</a></li>
                <li><a href="/docs/usage/cli/output">Output</a></li>
                <li><a href="/docs/usage/cli/assembly-patch">Assembly Patching</a></li>

                    </ul>
                </li>
                <li><a href="/docs/usage/msbuild">MSBuild Task</a></li>
                <li><a href="/docs/usage/library">Library</a></li>
                <li><a href="/docs/usage/docker">Docker</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/reference">Reference</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/configuration">Configuration</a></li>
                <li><a href="/docs/reference/variables">Version Variables</a></li>
                <li><a href="/docs/reference/requirements">Requirements</a></li>
                <li><a href="/docs/reference/version-increments">Version Incrementing</a></li>
                <li><a href="/docs/reference/version-sources">Version Sources</a></li>
                <li class="treeview">
                    <a href="/docs/reference/modes">Versioning Modes</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/modes/manual-deployment">Manual Deployment</a></li>
                <li><a href="/docs/reference/modes/continuous-delivery">Continuous Delivery</a></li>
                <li><a href="/docs/reference/modes/continuous-deployment">Continuous Deployment</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/reference/build-servers">Build Servers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/build-servers/appveyor">AppVeyor</a></li>
                <li><a href="/docs/reference/build-servers/azure-devops">Azure DevOps</a></li>
                <li><a href="/docs/reference/build-servers/bamboo">Bamboo</a></li>
                <li><a href="/docs/reference/build-servers/bitbucket-pipelines">BitBucket Pipelines</a></li>
                <li><a href="/docs/reference/build-servers/buildkite">Buildkite</a></li>
                <li><a href="/docs/reference/build-servers/continua">Continua CI</a></li>
                <li><a href="/docs/reference/build-servers/github-actions">GitHub Actions</a></li>
                <li><a href="/docs/reference/build-servers/gitlab">GitLab CI</a></li>
                <li><a href="/docs/reference/build-servers/jenkins">Jenkins</a></li>
                <li><a href="/docs/reference/build-servers/myget">MyGet</a></li>
                <li><a href="/docs/reference/build-servers/octopus-deploy">Octopus Deploy</a></li>
                <li><a href="/docs/reference/build-servers/teamcity">TeamCity</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/learn">Learn</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="selected"><a href="/docs/learn/how-it-works">How it works</a></li>
                <li><a href="/docs/learn/intro-to-semver">Intro to SemVer</a></li>
                <li><a href="/docs/learn/dynamic-repositories">Dynamic Repositories</a></li>
                <li><a href="/docs/learn/git-setup">Git Setup</a></li>
                <li><a href="/docs/learn/faq">FAQ</a></li>
                <li><a href="/docs/learn/why">Why use GitVersion?</a></li>
                <li><a href="/docs/learn/who">Who is using GitVersion</a></li>
                <li><a href="/docs/learn/credits">Credits</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies">Branching Strategies</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/overview">Overview</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/gitflow">Git Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/gitflow/examples">GitFlow Examples</a></li>
                <li><a href="/docs/learn/branching-strategies/gitflow/converting-to-gitflow">Converting to GitFlow</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/githubflow">GitHub Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/githubflow/examples">GitHubFlow Examples</a></li>

                    </ul>
                </li>
                <li><a href="/docs/learn/branching-strategies/contribute-examples">Contribute Examples</a></li>

                    </ul>
                </li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>How it works</h1>
		</section>
	<section class="content">
		<p>GitVersion v3 works very differently to v2. Version 2 had knowledge of both
GitFlow and GitHubFlow hard coded into it, with each branch having its own
class which calculated the version for that branch type.</p>
<p>v3 is driven by <a href="/docs/reference/configuration">configuration</a>, meaning most of the
behaviors in GitVersion can be tweaked to work the way you want. This also makes
it <em>much</em> more predictable and easier to diagnose when odd things are happening.</p>
<h2 id="architecture">Architecture</h2>
<p>GitVersion has three distinct steps for calculating versions in v3.</p>
<ol>
<li>If the current commit is tagged, the tag is used and build metadata
(excluding commit count) is added. The other two steps will not execute.</li>
<li>A set of strategies are evaluated to decide on the base version and some
metadata about that version.  These strategies include HighestReachableTag,
NextVersionInConfig, MergedBranchWithVersion, VersionInBranchName etc.</li>
<li>The highest base version is selected, using that base version as the new
version is calculated.</li>
</ol>
<p>Visually it looks something like this:</p>
<p><img src="https://www.plantuml.com/plantuml/png/fLCxJyCm4DxzAsuib4P914i69De1CS38Vd6kYIN7ZcodK8aVp-KX6Y2fKCbY9NV-7lVb2WoOeoVOMRDNfH0lz1vUoNbbpGwrR3K6ws1p3rlk-bN8u972f2AC3GHEbLN8m1D1Jjg-mPuXAZvx9kL1ZW1KY5dOZczMI0Pf54VnHtf7jpaAWJg0sW-uXw4PK3Eb1sMaevfCW6i1_0m6po1l7HfPJUxvu5XYUOHLWq5MLptCudmMK9--u5glJ0dIEaVo1Dw3JgVM6Km4cM9mzyrQXHuQHnj7chhl0JcnIrHjno1wiWtgfi8eWVK_7OQAmBHrJWvORFVM2PmrE7AcWZGh-Lj0FvptVvLiUPnCdG_XhNhOov9wQ1fzv7nw5S5EwSvw6CDQNfnMwUAP0XQyQpj70nkx3Nn3p5NFY9IshbNWepKi8ublWFiSPkC0ee8El75Dv5aOxqZQBScbWpWn0Pe2wb6aM1p4Eea_0G00" class="img-fluid" alt="Version Calculation"></p>
<p><a href="https://www.plantuml.com/plantuml/form?url=https://www.plantuml.com/plantuml/png/fLCxJyCm4DxzAsuib4P914i69De1CS38Vd6kYIN7ZcodK8aVp-KX6Y2fKCbY9NV-7lVb2WoOeoVOMRDNfH0lz1vUoNbbpGwrR3K6ws1p3rlk-bN8u972f2AC3GHEbLN8m1D1Jjg-mPuXAZvx9kL1ZW1KY5dOZczMI0Pf54VnHtf7jpaAWJg0sW-uXw4PK3Eb1sMaevfCW6i1_0m6po1l7HfPJUxvu5XYUOHLWq5MLptCudmMK9--u5glJ0dIEaVo1Dw3JgVM6Km4cM9mzyrQXHuQHnj7chhl0JcnIrHjno1wiWtgfi8eWVK_7OQAmBHrJWvORFVM2PmrE7AcWZGh-Lj0FvptVvLiUPnCdG_XhNhOov9wQ1fzv7nw5S5EwSvw6CDQNfnMwUAP0XQyQpj70nkx3Nn3p5NFY9IshbNWepKi8ublWFiSPkC0ee8El75Dv5aOxqZQBScbWpWn0Pe2wb6aM1p4Eea_0G00">Edit Diagram</a></p>
<p><strong>*</strong> Some strategies allow the version to be incremented, others don't. More
info below.
<strong>+</strong> This version is out of context with the rest of the example. It is here
simply to show what happens if the check is true.</p>
<h3 id="base-version-strategies">Base Version Strategies</h3>
<p>Currently we have the following strategies:</p>
<ul>
<li><code>HighestTagBaseVersionStrategy</code> - Finds the highest reachable tag from the
current branch</li>
<li><code>VersionInBranchBaseVersionStrategy</code> - Extracts version information from the
branch name (e.g., <code>release/3.0.0</code> will find <code>3.0.0</code>)</li>
<li><code>ConfigNextVersionBaseVersionStrategy</code> - Returns the version from the
GitVersion.yaml file</li>
<li><code>MergeMessageBaseVersionStrategy</code> - Finds version numbers from merge messages
(e.g., <code>Merge 'release/3.0.0' into 'main'</code> will return <code>3.0.0</code>)</li>
<li><code>FallbackBaseVersionStrategy</code> - Always returns 0.0.0 and will be used for
calculating the next version which is dependent on the increment strategy of
the effected branch (e.g. on main the next version is 0.0.1 or on develop it is 0.1.0)</li>
</ul>
<p>Each strategy needs to return an instance of <code>BaseVersion</code> which has the
following properties:</p>
<ul>
<li><code>Source</code> - Description of the source (e.g., <code>Merge message 'Merge 'release/3.0.0' into 'main'</code>)</li>
<li><code>ShouldIncrement</code> - Some strategies should have the version incremented,
others do not (e.g., <code>ConfigNextVersionBaseVersionStrategy</code> returns false,
<code>HighestTagBaseVersionStrategy</code> returns true)</li>
<li><code><a href="/api/GitVersion/SemanticVersion">SemanticVersion</a></code> - SemVer of the base version strategy</li>
<li><code>BaseVersionSource</code> - SHA hash of the source. Commits will be counted from
this hash. Can be null (e.g., <code>ConfigNextVersionBaseVersionStrategy</code> returns
null).</li>
<li><code>BranchNameOverride</code> - When <code>useBranchName</code> or <code>{BranchName}</code> is used in the
tag configuration, this allows the branch name to be changed by a base version.
<code>VersionInBranchBaseVersionStrategy</code> uses this to strip out anything before the
first <code>-</code> or <code>/.</code> so <code>foo</code> ends up being evaluated as <code>foo</code>. If in doubt, just
use null.</li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam2.github.io">Wyam2</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/GitTools/GitVersion"><i class="fa fa-github"></i> GitHub</a>
</div>

        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>