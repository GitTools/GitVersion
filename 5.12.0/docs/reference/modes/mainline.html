<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>GitVersion - Mainline Development</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>

        <meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
<meta name="google-site-verification" content="46g_yrsDyk5YTGoXb2ii9BjmTJ2QAEsacqn6wqiAiII">
<meta property="og:image" content="https://github.com/GitTools/graphics/raw/master/GitVersion/banner-1280x640.png">
<meta property="og:site_name" content="GitVersion">
<meta property="og:type" content="object">
<meta property="og:title" content="GitVersion">
<meta property="og:url" content="https://gitversion.net/">
<meta property="og:description" content="From git log to SemVer in no time">
<link rel="icon" href="/assets/img/icon.png" type="image/png">
<link rel="icon" href="/assets/img/icon.svg" type="image/svg">
<link rel="apple-touch-icon" href="/assets/img/icon.png" type="image/png">
<link rel="apple-touch-icon" href="/assets/img/icon.svg" type="image/svg">

    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">
                            <span>GitVersion</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/gittools/GitVersion/tree/main/docs/input/docs/reference/modes/mainline.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#usage">Usage</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/ci">Continuous Integration</a></li>
                <li class="treeview">
                    <a href="/docs/usage/cli">Command Line</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/cli/installation">Installation</a></li>
                <li><a href="/docs/usage/cli/arguments">Arguments</a></li>
                <li><a href="/docs/usage/cli/output">Output</a></li>
                <li><a href="/docs/usage/cli/assembly-patch">Assembly Patching</a></li>

                    </ul>
                </li>
                <li><a href="/docs/usage/msbuild">MSBuild Task</a></li>
                <li><a href="/docs/usage/library">Library</a></li>
                <li><a href="/docs/usage/docker">Docker</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/reference">Reference</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/configuration">Configuration</a></li>
                <li><a href="/docs/reference/variables">Version Variables</a></li>
                <li><a href="/docs/reference/requirements">Requirements</a></li>
                <li><a href="/docs/reference/version-increments">Version Incrementing</a></li>
                <li><a href="/docs/reference/version-sources">Version Sources</a></li>
                <li class="treeview active">
                    <a href="/docs/reference/modes">Versioning Modes</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/modes/continuous-delivery">Continuous Delivery</a></li>
                <li><a href="/docs/reference/modes/continuous-deployment">Continuous Deployment</a></li>
                <li class="selected"><a href="/docs/reference/modes/mainline">Mainline Development</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/reference/build-servers">Build Servers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/build-servers/appveyor">AppVeyor</a></li>
                <li><a href="/docs/reference/build-servers/azure-devops">Azure DevOps</a></li>
                <li><a href="/docs/reference/build-servers/bamboo">Bamboo</a></li>
                <li><a href="/docs/reference/build-servers/bitbucket-pipelines">BitBucket Pipelines</a></li>
                <li><a href="/docs/reference/build-servers/buildkite">Buildkite</a></li>
                <li><a href="/docs/reference/build-servers/continua">Continua CI</a></li>
                <li><a href="/docs/reference/build-servers/gitlab">GitLab CI</a></li>
                <li><a href="/docs/reference/build-servers/jenkins">Jenkins</a></li>
                <li><a href="/docs/reference/build-servers/myget">MyGet</a></li>
                <li><a href="/docs/reference/build-servers/octopus-deploy">Octopus Deploy</a></li>
                <li><a href="/docs/reference/build-servers/teamcity">TeamCity</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/learn">Learn</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/how-it-works">How it works</a></li>
                <li><a href="/docs/learn/intro-to-semver">Intro to SemVer</a></li>
                <li><a href="/docs/learn/dynamic-repositories">Dynamic Repositories</a></li>
                <li><a href="/docs/learn/git-setup">Git Setup</a></li>
                <li><a href="/docs/learn/faq">FAQ</a></li>
                <li><a href="/docs/learn/why">Why use GitVersion?</a></li>
                <li><a href="/docs/learn/who">Who is using GitVersion</a></li>
                <li><a href="/docs/learn/credits">Credits</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies">Branching Strategies</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/overview">Overview</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/gitflow">Git Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/gitflow/examples">GitFlow Examples</a></li>
                <li><a href="/docs/learn/branching-strategies/gitflow/converting-to-gitflow">Converting to GitFlow</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/githubflow">GitHub Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/githubflow/examples">GitHubFlow Examples</a></li>

                    </ul>
                </li>
                <li><a href="/docs/learn/branching-strategies/contribute-examples">Contribute Examples</a></li>

                    </ul>
                </li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Mainline Development</h1>
		</section>
	<section class="content">
		<p>Mainline Development is enabled when using <a href="/docs/learn/branching-strategies/githubflow">GitHubFlow</a> or any other
strategy where you develop on <code>main</code>. The main rule of mainline development is
that <strong>main is always in a state that it could be deployed to production</strong>. This
means that pull requests should not be merged until they are ready to go out.</p>
<p>To properly achieve mainline development you need confidence in your test suite
as if it goes green against a PR then you are confident that you can merge and
release that pull request. Another property of mainline development is normally
that you fix going forward, not revert. When an issue is discovered with a
release, add a test or some sort of check to make sure it won't happen again,
fix the issue, then do a release with the fix.</p>
<p>Like all things, it is an approach and will work for some people and not for
others. GitVersion is unique in the fact that it works very well with mainline
development and the version numbers it generates are <em>predictive</em> and indicate
what the next version to be released is. Most other approaches require bumping
the version number before the release which means that the version being built
and the version number which will be deployed are often different.</p>
<p>This mode is great if you do not want to tag each release because you simply
deploy every commit to main. The behaviour of this mode is as follows:</p>
<ol>
<li>Calculate a base version (likely a tag in this mode)</li>
<li>Walk all commits from the base version commit</li>
<li>When a merge commit is found:
<ul>
<li>Calculate increments for each direct commit on main</li>
<li>Calculate the increment for the branch</li>
</ul>
</li>
<li>Calculate increments for each remaining direct commit</li>
<li>For feature branches then calculate increment for the commits so far on your
feature branch.</li>
</ol>
<p>If you <em>do not want</em> GitVersion to treat a commit or a pull request as a release
and increment the version you can use <code>+semver: none</code> or <code>+semver: skip</code> in a
commit message to skip incrementing for that commit.</p>
<p>Here is an example of what mainline development looks like:</p>
<p><img src="/docs/img/mainline-mode.png" class="img-fluid" alt="Mainline mode"></p>
<div class="alert alert-warning"><p><strong>Warning</strong></p>
<p>This approach can slow down over time, we recommend to tag
intermittently (maybe for minor or major releases) because then GitVersion
will start the version calculation from that point. Much like a snapshot in an
event sourced system. We will probably add in warnings to tag when things are
slowing down.</p>
</div>
<h2 id="usage">Usage</h2>
<p>By default GitVersion is set up to do <a href="/docs/reference/modes/continuous-delivery">Continuous Delivery</a>
versioning on all branches but <code>develop</code> (which does <a href="/docs/reference/modes/continuous-deployment">Continuous
Deployment</a> by default). To change the <a href="/docs/reference/modes">versioning
mode</a> to Mainline Development, just change the <a href="/docs/reference/configuration">configuration</a> as such:</p>
<pre><code class="language-yaml">mode: Mainline
</code></pre>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam2.github.io">Wyam2</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/GitTools/GitVersion"><i class="fa fa-github"></i> GitHub</a>
</div>
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'GitTools/GitVersion'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>

        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>