<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>GitVersion - Version Incrementing</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>

        <meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
<meta name="google-site-verification" content="46g_yrsDyk5YTGoXb2ii9BjmTJ2QAEsacqn6wqiAiII">
<meta property="og:image" content="https://github.com/GitTools/graphics/raw/master/GitVersion/banner-1280x640.png">
<meta property="og:site_name" content="GitVersion">
<meta property="og:type" content="object">
<meta property="og:title" content="GitVersion">
<meta property="og:url" content="https://gitversion.net/">
<meta property="og:description" content="From git log to SemVer in no time">
<link rel="icon" href="/assets/img/icon.png" type="image/png">
<link rel="icon" href="/assets/img/icon.svg" type="image/svg">
<link rel="apple-touch-icon" href="/assets/img/icon.png" type="image/png">
<link rel="apple-touch-icon" href="/assets/img/icon.svg" type="image/svg">

    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">
                            <span>GitVersion</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/gittools/GitVersion/tree/main/docs/input/docs/reference/version-increments.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#approach">Approach</a></p>
<p><a href="#manually-incrementing-the-version">Manually incrementing the version</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/ci">Continuous Integration</a></li>
                <li class="treeview">
                    <a href="/docs/usage/cli">Command Line</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/cli/installation">Installation</a></li>
                <li><a href="/docs/usage/cli/arguments">Arguments</a></li>
                <li><a href="/docs/usage/cli/output">Output</a></li>
                <li><a href="/docs/usage/cli/assembly-patch">Assembly Patching</a></li>

                    </ul>
                </li>
                <li><a href="/docs/usage/msbuild">MSBuild Task</a></li>
                <li><a href="/docs/usage/library">Library</a></li>
                <li><a href="/docs/usage/docker">Docker</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/reference">Reference</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/configuration">Configuration</a></li>
                <li><a href="/docs/reference/variables">Version Variables</a></li>
                <li><a href="/docs/reference/requirements">Requirements</a></li>
                <li class="selected"><a href="/docs/reference/version-increments">Version Incrementing</a></li>
                <li><a href="/docs/reference/version-sources">Version Sources</a></li>
                <li class="treeview">
                    <a href="/docs/reference/modes">Versioning Modes</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/modes/continuous-delivery">Continuous Delivery</a></li>
                <li><a href="/docs/reference/modes/continuous-deployment">Continuous Deployment</a></li>
                <li><a href="/docs/reference/modes/mainline">Mainline Development</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/reference/build-servers">Build Servers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/reference/build-servers/appveyor">AppVeyor</a></li>
                <li><a href="/docs/reference/build-servers/azure-devops">Azure DevOps</a></li>
                <li><a href="/docs/reference/build-servers/bamboo">Bamboo</a></li>
                <li><a href="/docs/reference/build-servers/bitbucket-pipelines">BitBucket Pipelines</a></li>
                <li><a href="/docs/reference/build-servers/buildkite">Buildkite</a></li>
                <li><a href="/docs/reference/build-servers/continua">Continua CI</a></li>
                <li><a href="/docs/reference/build-servers/gitlab">GitLab CI</a></li>
                <li><a href="/docs/reference/build-servers/jenkins">Jenkins</a></li>
                <li><a href="/docs/reference/build-servers/myget">MyGet</a></li>
                <li><a href="/docs/reference/build-servers/octopus-deploy">Octopus Deploy</a></li>
                <li><a href="/docs/reference/build-servers/teamcity">TeamCity</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/learn">Learn</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/how-it-works">How it works</a></li>
                <li><a href="/docs/learn/intro-to-semver">Intro to SemVer</a></li>
                <li><a href="/docs/learn/dynamic-repositories">Dynamic Repositories</a></li>
                <li><a href="/docs/learn/git-setup">Git Setup</a></li>
                <li><a href="/docs/learn/faq">FAQ</a></li>
                <li><a href="/docs/learn/why">Why use GitVersion?</a></li>
                <li><a href="/docs/learn/who">Who is using GitVersion</a></li>
                <li><a href="/docs/learn/credits">Credits</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies">Branching Strategies</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/overview">Overview</a></li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/gitflow">Git Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/gitflow/examples">GitFlow Examples</a></li>
                <li><a href="/docs/learn/branching-strategies/gitflow/converting-to-gitflow">Converting to GitFlow</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/learn/branching-strategies/githubflow">GitHub Flow</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/learn/branching-strategies/githubflow/examples">GitHubFlow Examples</a></li>

                    </ul>
                </li>
                <li><a href="/docs/learn/branching-strategies/contribute-examples">Contribute Examples</a></li>

                    </ul>
                </li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Version Incrementing</h1>
		</section>
	<section class="content">
		<p>Because GitVersion works with several workflows, the way it does its version
incrementing may work perfectly for you, or it may cause you issues. This page
is split up into two sections, first is all about understanding the approach
GitVersion uses by default, and the second is how you can manually increment the
version.</p>
<h2 id="approach">Approach</h2>
<p>Semantic Versioning is all about <em>releases</em>, not commits or builds. This means
that the version only increases after you release, this directly conflicts with
the concept of published CI builds. When you release the next version of your
library/app/website/whatever you should only increment major/minor or patch then
reset all lower parts to 0, for instance given <code>1.0.0</code>, the next release should
be either <code>2.0.0</code>, <code>1.1.0</code> or <code>1.0.1</code>.</p>
<p>Because of this, GitVersion works out what the next SemVer of your app is on
each commit. When you are ready to release, you simply deploy the latest built
version and tag the commit it was created from. This practice is called
<a href="/docs/reference/modes/continuous-delivery">continuous delivery</a>. GitVersion will increment the
<em>metadata</em> for each commit so you can tell them apart. For example <code>1.0.0+5</code>
followed by <code>1.0.0+6</code>. It is important to note that build metadata <em>is not part
of the semantic version; it is just metadata!</em>.</p>
<p>All this effectively means that GitVersion will produce the same version NuGet
package each commit until you tag a release.</p>
<p>This causes problems for people as NuGet and other package managers do not
support multiple packages with the same version where only the metadata is
different. There are a few ways to handle this problem depending on what your
requirements are:</p>
<h3 id="gitflow">1. GitFlow</h3>
<p>If you are using GitFlow then builds off the <code>develop</code> branch will actually
<em>increment on every commit</em>. This is known in GitVersion as <em>continuous
deployment mode</em>. By default <code>develop</code> builds are tagged with the <code>alpha</code>
pre-release tag. This is so they are sorted higher than release branches.</p>
<p>If you need to consume packages built from <code>develop</code>, we recommend publishing
these packages to a separate NuGet feed as an alpha channel. That way you can
publish beta/release candidate builds and only people who opt into the alpha
feed will see the alpha packages.</p>
<h3 id="octopus-deploy">2. Octopus deploy</h3>
<p>See <a href="/docs/reference/build-servers/octopus-deploy">Octopus deploy</a></p>
<h2 id="manually-incrementing-the-version">Manually incrementing the version</h2>
<p>With v3 there are multiple approaches. Read about these below.</p>
<h3 id="commit-messages">Commit messages</h3>
<p>Adding <code>+semver: breaking</code> or <code>+semver: major</code> will cause the major version to
be increased, <code>+semver: feature</code> or <code>+semver: minor</code> will bump minor and
<code>+semver: patch</code> or <code>+semver: fix</code> will bump the patch.</p>
<h4 id="configuration">Configuration</h4>
<p>The feature is enabled by default but can be disabled via configuration, the
regex we use can be changed:</p>
<pre><code class="language-yaml">major-version-bump-message: '\+semver:\s?(breaking|major)'
minor-version-bump-message: '\+semver:\s?(feature|minor)'
patch-version-bump-message: '\+semver:\s?(fix|patch)'
commit-message-incrementing: Enabled
</code></pre>
<p>The options for <code>commit-message-incrementing</code> are <code>Enabled</code>, <code>MergeMessageOnly</code>
and <code>Disabled</code></p>
<p>If the incrementing <code>mode</code> is set to <code>MergeMessageOnly</code> you can add this
information when merging a pull request. This prevents commits within a PR to
bump the version number.</p>
<p>One thing to be aware of: If the current version is an alpha-version (i.e.
<code>0.x.y</code>.), attempting to bump the major version will merely bump the minor (eg
from <code>0.2.0</code> to <code>0.3.0</code> instead of <code>1.0.0</code>). Once the current version is greater
than <code>1.0.0</code>, bumping the major version works as expected.</p>
<h4 id="conventional-commit-messages">Conventional commit messages</h4>
<p>If you want to use the <a href="https://www.conventionalcommits.org/">Conventional Commits</a> standard,
you can leverage this feature as follows:</p>
<pre><code class="language-yaml">mode: MainLine # Only add this if you want every version to be created automatically on your main branch.
major-version-bump-message: "^(build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test)(\\([\\w\\s-]*\\))?(!:|:.*\\n\\n((.+\\n)+\\n)?BREAKING CHANGE:\\s.+)"
minor-version-bump-message: "^(feat)(\\([\\w\\s-]*\\))?:"
patch-version-bump-message: "^(build|chore|ci|docs|fix|perf|refactor|revert|style|test)(\\([\\w\\s-]*\\))?:"
</code></pre>
<p>This will ensure that your version gets bumped according to the commits you've
created.</p>
<h3 id="gitversion.yml">GitVersion.yml</h3>
<p>The first is by setting the <code>next-version</code> property in the GitVersion.yml file.
This property only serves as a base version,</p>
<h3 id="branch-name">Branch name</h3>
<p>If you create a branch with the version number in the branch name, such as
<code>release-1.2.0</code> or <code>hotfix/1.0.1</code> then GitVersion will take the version number
from the branch name as a source. However, GitVersion can't use the <a href="/docs/learn/faq#merged-branch-names-as-version-source">branch
name as a version source for <em>other branches</em></a>.</p>
<h3 id="detached-head">Detached HEAD</h3>
<p>If HEAD is in detached state tag will be <code>-no-branch-</code>.</p>
<p>Example: <code>0.1.0--no-branch-.1+4</code></p>
<h3 id="tagging-commit">Tagging commit</h3>
<p>By tagging a commit, GitVersion will use that tag for the version of that
commit, then increment the next commit automatically based on the increment
rules for that branch (some branches bump patch, some minor).</p>
<h3 id="incrementing-per-commit">Incrementing per commit</h3>
<p>When using the continuous deployment <code>mode</code> (which will increment the SemVer every
commit) all builds <em>must</em> have a pre-release tag, except for builds that are
explicitly tagged as stable.</p>
<p>Then the build metadata (which is the commit count) is promoted to the
pre-release tag. Applying these rules, the above commit-graph would produce:</p>
<pre><code class="language-log">e137e9 -&gt; 1.0.0+0
a5f6c5 -&gt; 1.0.1-ci.1
adb29a -&gt; 1.0.1-feature-foo.1 (PR #5 Version: `1.0.1-PullRequest.5+2`)
7c2438 -&gt; 1.0.1-feature-foo.2 (PR #5 Version: `1.0.1-PullRequest.5+3`)
5f413b -&gt; 1.0.1-ci.4
d6155b -&gt; 2.0.0-rc.1+4 (Before and after tag)
d53ab6 -&gt; 2.0.0-rc.2 (If there was another commit on the release branch it would be 2.0.0-rc.3)
b5d142 -&gt; 2.0.0-ci.0 (2.0.0 branch was merged, so main is now at 2.0.0)
</code></pre>
<p>As you can see, the versions now no longer conflict. When you want to create a
stable <code>2.0.0</code> release you simply <code>git tag 2.0.0</code>, then build the tag, and it
will produce a stable <code>2.0.0</code> package.</p>
<p>For more information/background on why we have come to this conclusion, read
<a href="https://www.xavierdecoster.com/semantic-versioning-auto-incremented-nuget-package-versions">Xavier Decoster's blog post on the subject</a>.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam2.github.io">Wyam2</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/GitTools/GitVersion"><i class="fa fa-github"></i> GitHub</a>
</div>
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'GitTools/GitVersion'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>

        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>